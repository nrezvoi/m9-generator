"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = m9permalink;


function m9permalink() {
  return function (files, metalsmith, done) {
    Object.keys(files).forEach(function (file) {
      var fileMeta = files[file];
      var permalinkPath = fileMeta.permalink;
      if (!permalinkPath) return;

      files[permalinkPath] = fileMeta;
      delete files[file];
    });
    done();
  };
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9saWIvbTktcGVybWFsaW5rLmpzIl0sIm5hbWVzIjpbIm05cGVybWFsaW5rIiwiZmlsZXMiLCJtZXRhbHNtaXRoIiwiZG9uZSIsIk9iamVjdCIsImtleXMiLCJmb3JFYWNoIiwiZmlsZU1ldGEiLCJmaWxlIiwicGVybWFsaW5rUGF0aCIsInBlcm1hbGluayJdLCJtYXBwaW5ncyI6Ijs7Ozs7a0JBQWVBLFc7OztBQUVmLFNBQVNBLFdBQVQsR0FBd0I7QUFDdEIsU0FBTyxVQUFDQyxLQUFELEVBQVFDLFVBQVIsRUFBb0JDLElBQXBCLEVBQTZCO0FBQ2xDQyxXQUFPQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE9BQW5CLENBQTJCLGdCQUFRO0FBQ2pDLFVBQU1DLFdBQVdOLE1BQU1PLElBQU4sQ0FBakI7QUFDQSxVQUFNQyxnQkFBZ0JGLFNBQVNHLFNBQS9CO0FBQ0EsVUFBSSxDQUFDRCxhQUFMLEVBQW9COztBQUVwQlIsWUFBTVEsYUFBTixJQUF1QkYsUUFBdkI7QUFDQSxhQUFPTixNQUFNTyxJQUFOLENBQVA7QUFDRCxLQVBEO0FBUUFMO0FBQ0QsR0FWRDtBQVdEIiwiZmlsZSI6Im05LXBlcm1hbGluay5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IG05cGVybWFsaW5rXG5cbmZ1bmN0aW9uIG05cGVybWFsaW5rICgpIHtcbiAgcmV0dXJuIChmaWxlcywgbWV0YWxzbWl0aCwgZG9uZSkgPT4ge1xuICAgIE9iamVjdC5rZXlzKGZpbGVzKS5mb3JFYWNoKGZpbGUgPT4ge1xuICAgICAgY29uc3QgZmlsZU1ldGEgPSBmaWxlc1tmaWxlXVxuICAgICAgY29uc3QgcGVybWFsaW5rUGF0aCA9IGZpbGVNZXRhLnBlcm1hbGlua1xuICAgICAgaWYgKCFwZXJtYWxpbmtQYXRoKSByZXR1cm5cblxuICAgICAgZmlsZXNbcGVybWFsaW5rUGF0aF0gPSBmaWxlTWV0YVxuICAgICAgZGVsZXRlIGZpbGVzW2ZpbGVdXG4gICAgfSlcbiAgICBkb25lKClcbiAgfVxufVxuIl19