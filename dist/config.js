'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _path = require('path');

var _path2 = _interopRequireDefault(_path);

var _yargs = require('yargs');

var _loadConfigs = require('./lib/load-configs');

var _loadConfigs2 = _interopRequireDefault(_loadConfigs);

var _readPartialsDir = require('./lib/read-partials-dir');

var _readPartialsDir2 = _interopRequireDefault(_readPartialsDir);

var _configWebpack = require('./config-webpack');

var _configWebpack2 = _interopRequireDefault(_configWebpack);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isGulpDebug = process.env.GULP_DEBUG === 'true';
var isProduction = process.env.NODE_ENV === 'production';
var isDevelopment = !isProduction;

var root = _yargs.argv.root;
var src = _path2.default.join(root, 'src');
var dst = _path2.default.join(root, 'build');

var DIR_PAGES = 'pages';
var DIR_CONTENT = 'content';
var DIR_HELPERS = 'helpers';
var DIR_PARTIALS = 'partials';
var DIR_LAYOUTS = 'layouts';
var DIR_SCRIPTS = 'scripts';
var DIR_STYLES = 'styles';
var DIR_ASSETS = 'assets';
var DIR_PUBLIC = 'public';
var TPL_ENGINE = 'handlebars';

var config = {
  isGulpDebug: isGulpDebug,
  isProduction: isProduction,
  isDevelopment: isDevelopment,
  paths: {
    root: root,
    src: src,
    dst: dst,
    srcScripts: _path2.default.join(src, DIR_SCRIPTS)
  },
  htmlmin: {
    src: '*.html',
    options: {
      collapseWhitespace: true,
      removeRedundantAttributes: true,
      collapseBooleanAttributes: true,
      minifyJS: true,
      sortAttributes: true
    }
  },
  pages: {
    directory: _path2.default.join(src, DIR_PAGES)
  },
  contentDir: {
    directory: _path2.default.join(src, DIR_CONTENT),
    transformer: 'wordpress'
  },
  helpers: {
    directory: _path2.default.join(src, DIR_HELPERS)
  },
  layouts: {
    engine: TPL_ENGINE,
    directory: _path2.default.join(src, DIR_LAYOUTS),
    partials: _path2.default.join(src, DIR_PARTIALS)
  },
  inplace: {
    engineOptions: {
      partials: (0, _readPartialsDir2.default)(_path2.default.join(src, DIR_PARTIALS))
    }
  },
  copy: {
    src: _path2.default.join(src, DIR_PUBLIC, '**/*')
  },
  assets: {
    scripts: _path2.default.join(src, DIR_SCRIPTS, '*.js'),
    styles: _path2.default.join(src, DIR_STYLES, '*.css'),
    manifest: 'assets.json',
    publicPath: '/' + DIR_ASSETS + '/',
    dst: _path2.default.join(dst, DIR_ASSETS)
  },
  dev: {
    host: 'localhost',
    webpackPort: 9000,
    browsersyncPort: 3000
  }
};

config = (0, _configWebpack2.default)(config);
(0, _loadConfigs2.default)(config, root);

exports.default = config;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb25maWcuanMiXSwibmFtZXMiOlsiaXNHdWxwRGVidWciLCJwcm9jZXNzIiwiZW52IiwiR1VMUF9ERUJVRyIsImlzUHJvZHVjdGlvbiIsIk5PREVfRU5WIiwiaXNEZXZlbG9wbWVudCIsInJvb3QiLCJzcmMiLCJqb2luIiwiZHN0IiwiRElSX1BBR0VTIiwiRElSX0NPTlRFTlQiLCJESVJfSEVMUEVSUyIsIkRJUl9QQVJUSUFMUyIsIkRJUl9MQVlPVVRTIiwiRElSX1NDUklQVFMiLCJESVJfU1RZTEVTIiwiRElSX0FTU0VUUyIsIkRJUl9QVUJMSUMiLCJUUExfRU5HSU5FIiwiY29uZmlnIiwicGF0aHMiLCJzcmNTY3JpcHRzIiwiaHRtbG1pbiIsIm9wdGlvbnMiLCJjb2xsYXBzZVdoaXRlc3BhY2UiLCJyZW1vdmVSZWR1bmRhbnRBdHRyaWJ1dGVzIiwiY29sbGFwc2VCb29sZWFuQXR0cmlidXRlcyIsIm1pbmlmeUpTIiwic29ydEF0dHJpYnV0ZXMiLCJwYWdlcyIsImRpcmVjdG9yeSIsImNvbnRlbnREaXIiLCJ0cmFuc2Zvcm1lciIsImhlbHBlcnMiLCJsYXlvdXRzIiwiZW5naW5lIiwicGFydGlhbHMiLCJpbnBsYWNlIiwiZW5naW5lT3B0aW9ucyIsImNvcHkiLCJhc3NldHMiLCJzY3JpcHRzIiwic3R5bGVzIiwibWFuaWZlc3QiLCJwdWJsaWNQYXRoIiwiZGV2IiwiaG9zdCIsIndlYnBhY2tQb3J0IiwiYnJvd3NlcnN5bmNQb3J0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsY0FBY0MsUUFBUUMsR0FBUixDQUFZQyxVQUFaLEtBQTJCLE1BQS9DO0FBQ0EsSUFBTUMsZUFBZUgsUUFBUUMsR0FBUixDQUFZRyxRQUFaLEtBQXlCLFlBQTlDO0FBQ0EsSUFBTUMsZ0JBQWdCLENBQUNGLFlBQXZCOztBQUVBLElBQU1HLE9BQU8sWUFBS0EsSUFBbEI7QUFDQSxJQUFNQyxNQUFNLGVBQUtDLElBQUwsQ0FBVUYsSUFBVixFQUFnQixLQUFoQixDQUFaO0FBQ0EsSUFBTUcsTUFBTSxlQUFLRCxJQUFMLENBQVVGLElBQVYsRUFBZ0IsT0FBaEIsQ0FBWjs7QUFFQSxJQUFNSSxZQUFZLE9BQWxCO0FBQ0EsSUFBTUMsY0FBYyxTQUFwQjtBQUNBLElBQU1DLGNBQWMsU0FBcEI7QUFDQSxJQUFNQyxlQUFlLFVBQXJCO0FBQ0EsSUFBTUMsY0FBYyxTQUFwQjtBQUNBLElBQU1DLGNBQWMsU0FBcEI7QUFDQSxJQUFNQyxhQUFhLFFBQW5CO0FBQ0EsSUFBTUMsYUFBYSxRQUFuQjtBQUNBLElBQU1DLGFBQWEsUUFBbkI7QUFDQSxJQUFNQyxhQUFhLFlBQW5COztBQUVBLElBQUlDLFNBQVM7QUFDWHJCLDBCQURXO0FBRVhJLDRCQUZXO0FBR1hFLDhCQUhXO0FBSVhnQixTQUFPO0FBQ0xmLGNBREs7QUFFTEMsWUFGSztBQUdMRSxZQUhLO0FBSUxhLGdCQUFZLGVBQUtkLElBQUwsQ0FBVUQsR0FBVixFQUFlUSxXQUFmO0FBSlAsR0FKSTtBQVVYUSxXQUFTO0FBQ1BoQixTQUFLLFFBREU7QUFFUGlCLGFBQVM7QUFDUEMsMEJBQW9CLElBRGI7QUFFUEMsaUNBQTJCLElBRnBCO0FBR1BDLGlDQUEyQixJQUhwQjtBQUlQQyxnQkFBVSxJQUpIO0FBS1BDLHNCQUFnQjtBQUxUO0FBRkYsR0FWRTtBQW9CWEMsU0FBTztBQUNMQyxlQUFXLGVBQUt2QixJQUFMLENBQVVELEdBQVYsRUFBZUcsU0FBZjtBQUROLEdBcEJJO0FBdUJYc0IsY0FBWTtBQUNWRCxlQUFXLGVBQUt2QixJQUFMLENBQVVELEdBQVYsRUFBZUksV0FBZixDQUREO0FBRVZzQixpQkFBYTtBQUZILEdBdkJEO0FBMkJYQyxXQUFTO0FBQ1BILGVBQVcsZUFBS3ZCLElBQUwsQ0FBVUQsR0FBVixFQUFlSyxXQUFmO0FBREosR0EzQkU7QUE4Qlh1QixXQUFTO0FBQ1BDLFlBQVFqQixVQUREO0FBRVBZLGVBQVcsZUFBS3ZCLElBQUwsQ0FBVUQsR0FBVixFQUFlTyxXQUFmLENBRko7QUFHUHVCLGNBQVUsZUFBSzdCLElBQUwsQ0FBVUQsR0FBVixFQUFlTSxZQUFmO0FBSEgsR0E5QkU7QUFtQ1h5QixXQUFTO0FBQ1BDLG1CQUFlO0FBQ2JGLGdCQUFVLCtCQUFnQixlQUFLN0IsSUFBTCxDQUFVRCxHQUFWLEVBQWVNLFlBQWYsQ0FBaEI7QUFERztBQURSLEdBbkNFO0FBd0NYMkIsUUFBTTtBQUNKakMsU0FBSyxlQUFLQyxJQUFMLENBQVVELEdBQVYsRUFBZVcsVUFBZixFQUEyQixNQUEzQjtBQURELEdBeENLO0FBMkNYdUIsVUFBUTtBQUNOQyxhQUFTLGVBQUtsQyxJQUFMLENBQVVELEdBQVYsRUFBZVEsV0FBZixFQUE0QixNQUE1QixDQURIO0FBRU40QixZQUFRLGVBQUtuQyxJQUFMLENBQVVELEdBQVYsRUFBZVMsVUFBZixFQUEyQixPQUEzQixDQUZGO0FBR040QixjQUFVLGFBSEo7QUFJTkMsc0JBQWdCNUIsVUFBaEIsTUFKTTtBQUtOUixTQUFLLGVBQUtELElBQUwsQ0FBVUMsR0FBVixFQUFlUSxVQUFmO0FBTEMsR0EzQ0c7QUFrRFg2QixPQUFLO0FBQ0hDLFVBQU0sV0FESDtBQUVIQyxpQkFBYSxJQUZWO0FBR0hDLHFCQUFpQjtBQUhkO0FBbERNLENBQWI7O0FBeURBN0IsU0FBUyw2QkFBY0EsTUFBZCxDQUFUO0FBQ0EsMkJBQVlBLE1BQVosRUFBb0JkLElBQXBCOztrQkFFZWMsTSIsImZpbGUiOiJjb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IHsgYXJndiB9IGZyb20gJ3lhcmdzJ1xuaW1wb3J0IGxvYWRDb25maWdzIGZyb20gJy4vbGliL2xvYWQtY29uZmlncydcbmltcG9ydCByZWFkUGFydGlhbHNEaXIgZnJvbSAnLi9saWIvcmVhZC1wYXJ0aWFscy1kaXInXG5pbXBvcnQgd2VicGFja0NvbmZpZyBmcm9tICcuL2NvbmZpZy13ZWJwYWNrJ1xuXG5jb25zdCBpc0d1bHBEZWJ1ZyA9IHByb2Nlc3MuZW52LkdVTFBfREVCVUcgPT09ICd0cnVlJ1xuY29uc3QgaXNQcm9kdWN0aW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJ1xuY29uc3QgaXNEZXZlbG9wbWVudCA9ICFpc1Byb2R1Y3Rpb25cblxuY29uc3Qgcm9vdCA9IGFyZ3Yucm9vdFxuY29uc3Qgc3JjID0gcGF0aC5qb2luKHJvb3QsICdzcmMnKVxuY29uc3QgZHN0ID0gcGF0aC5qb2luKHJvb3QsICdidWlsZCcpXG5cbmNvbnN0IERJUl9QQUdFUyA9ICdwYWdlcydcbmNvbnN0IERJUl9DT05URU5UID0gJ2NvbnRlbnQnXG5jb25zdCBESVJfSEVMUEVSUyA9ICdoZWxwZXJzJ1xuY29uc3QgRElSX1BBUlRJQUxTID0gJ3BhcnRpYWxzJ1xuY29uc3QgRElSX0xBWU9VVFMgPSAnbGF5b3V0cydcbmNvbnN0IERJUl9TQ1JJUFRTID0gJ3NjcmlwdHMnXG5jb25zdCBESVJfU1RZTEVTID0gJ3N0eWxlcydcbmNvbnN0IERJUl9BU1NFVFMgPSAnYXNzZXRzJ1xuY29uc3QgRElSX1BVQkxJQyA9ICdwdWJsaWMnXG5jb25zdCBUUExfRU5HSU5FID0gJ2hhbmRsZWJhcnMnXG5cbmxldCBjb25maWcgPSB7XG4gIGlzR3VscERlYnVnLFxuICBpc1Byb2R1Y3Rpb24sXG4gIGlzRGV2ZWxvcG1lbnQsXG4gIHBhdGhzOiB7XG4gICAgcm9vdCxcbiAgICBzcmMsXG4gICAgZHN0LFxuICAgIHNyY1NjcmlwdHM6IHBhdGguam9pbihzcmMsIERJUl9TQ1JJUFRTKVxuICB9LFxuICBodG1sbWluOiB7XG4gICAgc3JjOiAnKi5odG1sJyxcbiAgICBvcHRpb25zOiB7XG4gICAgICBjb2xsYXBzZVdoaXRlc3BhY2U6IHRydWUsXG4gICAgICByZW1vdmVSZWR1bmRhbnRBdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgY29sbGFwc2VCb29sZWFuQXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIG1pbmlmeUpTOiB0cnVlLFxuICAgICAgc29ydEF0dHJpYnV0ZXM6IHRydWVcbiAgICB9XG4gIH0sXG4gIHBhZ2VzOiB7XG4gICAgZGlyZWN0b3J5OiBwYXRoLmpvaW4oc3JjLCBESVJfUEFHRVMpXG4gIH0sXG4gIGNvbnRlbnREaXI6IHtcbiAgICBkaXJlY3Rvcnk6IHBhdGguam9pbihzcmMsIERJUl9DT05URU5UKSxcbiAgICB0cmFuc2Zvcm1lcjogJ3dvcmRwcmVzcydcbiAgfSxcbiAgaGVscGVyczoge1xuICAgIGRpcmVjdG9yeTogcGF0aC5qb2luKHNyYywgRElSX0hFTFBFUlMpXG4gIH0sXG4gIGxheW91dHM6IHtcbiAgICBlbmdpbmU6IFRQTF9FTkdJTkUsXG4gICAgZGlyZWN0b3J5OiBwYXRoLmpvaW4oc3JjLCBESVJfTEFZT1VUUyksXG4gICAgcGFydGlhbHM6IHBhdGguam9pbihzcmMsIERJUl9QQVJUSUFMUylcbiAgfSxcbiAgaW5wbGFjZToge1xuICAgIGVuZ2luZU9wdGlvbnM6IHtcbiAgICAgIHBhcnRpYWxzOiByZWFkUGFydGlhbHNEaXIocGF0aC5qb2luKHNyYywgRElSX1BBUlRJQUxTKSlcbiAgICB9XG4gIH0sXG4gIGNvcHk6IHtcbiAgICBzcmM6IHBhdGguam9pbihzcmMsIERJUl9QVUJMSUMsICcqKi8qJylcbiAgfSxcbiAgYXNzZXRzOiB7XG4gICAgc2NyaXB0czogcGF0aC5qb2luKHNyYywgRElSX1NDUklQVFMsICcqLmpzJyksXG4gICAgc3R5bGVzOiBwYXRoLmpvaW4oc3JjLCBESVJfU1RZTEVTLCAnKi5jc3MnKSxcbiAgICBtYW5pZmVzdDogJ2Fzc2V0cy5qc29uJyxcbiAgICBwdWJsaWNQYXRoOiBgLyR7RElSX0FTU0VUU30vYCxcbiAgICBkc3Q6IHBhdGguam9pbihkc3QsIERJUl9BU1NFVFMpXG4gIH0sXG4gIGRldjoge1xuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxuICAgIHdlYnBhY2tQb3J0OiA5MDAwLFxuICAgIGJyb3dzZXJzeW5jUG9ydDogMzAwMFxuICB9XG59XG5cbmNvbmZpZyA9IHdlYnBhY2tDb25maWcoY29uZmlnKVxubG9hZENvbmZpZ3MoY29uZmlnLCByb290KVxuXG5leHBvcnQgZGVmYXVsdCBjb25maWdcbiJdfQ==